<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Webtaskrunner</title>
    <script src="static/vue-2.1.10/vue.js"></script>
    <script src="static/vue-resource-1.0.3/vue-resource.min.js"></script>
    <script src="static/ansi_up-1.3.0/ansi_up.js"></script>
    <link rel="stylesheet" href="static/css/app.css"/>
    <link rel="stylesheet" href="static/font-awesome-4.7.0/css/font-awesome.min.css">
</head>
<body>

<script id="executor" type="text/x-template">
    <div class="executor">
        <span v-text="data.name"></span> - <span v-text="data.status"></span>
        <span class="error" v-if="data.error">ERROR: {{data.error}} </span>
        <div class="output" v-html="htmlCarriageReturn(ansiUp(data.combinedOutput))"></div>
    </div>
</script>

<script id="task" type="text/x-template">
    <li>
        <span class="name" v-text="data.name"></span>
        <span class="controls">
            <i class="fa fa-play" aria-hidden="true" v-on:click="run()"></i>
            <span v-if="data.executor != null">
            <i class="fa fa-indent" aria-hidden="true" v-on:click="showExecutor()"></i>
                <span v-bind:class="data.executor.status">
                    <i class="fa fa-dot-circle-o" aria-hidden="true"></i>
                </span>
            </span>
        </span>
    </li>
</script>

<h4>webtaskrunner</h4>

<div id="taskrunner">
    <h2>Tasks</h2>
    <ul class="tasklist">
        <task v-for="(task,index) in tasks"
              :key="index"
              :data="task"
        ></task>
    </ul>
    <h4>execution output</h4>
    <ul>
        <li v-for="(executor,index) in executors"
            :key="index"
            v-show="focusedExecutor==executor"
        >
            <executor :data="executor"></executor>
        </li>
    </ul>
</div>

<script src="static/js/taskrunner.js"></script>
</body>
</html>